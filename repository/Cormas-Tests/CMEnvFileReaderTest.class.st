Class {
	#name : #CMEnvFileReaderTest,
	#superclass : #CormasModelTest,
	#instVars : [
		'instance'
	],
	#category : #'Cormas-Tests'
}

{ #category : #autogenerated }
CMEnvFileReaderTest >> createSampleEnvFile [

	| sampleEnvFile |
	sampleEnvFile := 'assets/models/CormasModelForTest/maps/temp.env' asFileReference.
	sampleEnvFile writeStreamDo: [ :arg1 | arg1 nextPutAll: self sampleEnv ].
	^ sampleEnvFile
]

{ #category : #accessing }
CMEnvFileReaderTest >> instance [
	^ instance
]

{ #category : #accessing }
CMEnvFileReaderTest >> instance: arg1 [
	instance := arg1
]

{ #category : #autogenerated }
CMEnvFileReaderTest >> newTestModel [
	" See superimplementor's comment "

	^ super newTestModel 
		projectManager: CMProjectManager new;
		yourself
]

{ #category : #autogenerated }
CMEnvFileReaderTest >> sampleEnv [
	^ 'dimensions	50 50
cloture	torroidal
connexite	eight
attributs	state(Symbol)
dead
dead
dead
dead'
]

{ #category : #autogenerated }
CMEnvFileReaderTest >> setUp [

	super setUp.
	model := self newTestModel.
	self instance: 
		(CMEnvFileReader new
			fileReference: self createSampleEnvFile;
			yourself).
]

{ #category : #autogenerated }
CMEnvFileReaderTest >> tearDown [ 

	super tearDown.
	self instance fileReference ifNotNil: [ : envFile | envFile ensureDelete ]
]

{ #category : #autogenerated }
CMEnvFileReaderTest >> testAttributeAt [
	self assert: (self instance attributeAt: nil)
]

{ #category : #autogenerated }
CMEnvFileReaderTest >> testAttributes [

	self assert: (self instance attributes isKindOf: Collection).
	self assert: self instance attributes isEmpty
]

{ #category : #autogenerated }
CMEnvFileReaderTest >> testCe [
	self assert: (self instance ce: nil)
]

{ #category : #autogenerated }
CMEnvFileReaderTest >> testCormasModel [
	self assert: self instance cormasModel
]

{ #category : #autogenerated }
CMEnvFileReaderTest >> testCormasModelClass [
	self assert: self instance cormasModelClass
]

{ #category : #autogenerated }
CMEnvFileReaderTest >> testCp [
	self assert: self instance cp
]

{ #category : #autogenerated }
CMEnvFileReaderTest >> testDelimiteur [
	self assert: (self instance delimiteur: nil)
]

{ #category : #autogenerated }
CMEnvFileReaderTest >> testDimX [
	self assert: (self instance dimX: nil)
]

{ #category : #autogenerated }
CMEnvFileReaderTest >> testDimY [
	self assert: self instance dimY
]

{ #category : #autogenerated }
CMEnvFileReaderTest >> testElementaryEntities [
	self assert: self instance elementaryEntities
]

{ #category : #autogenerated }
CMEnvFileReaderTest >> testElementaryEntitiesAt [
	self assert: (self instance elementaryEntitiesAt: nil)
]

{ #category : #autogenerated }
CMEnvFileReaderTest >> testFileReference [
	self assert: self instance fileReference
]

{ #category : #autogenerated }
CMEnvFileReaderTest >> testFirstAttributeAt [
	self assert: (self instance firstAttributeAt: nil)
]

{ #category : #autogenerated }
CMEnvFileReaderTest >> testLastAttributeAt [
	self assert: (self instance lastAttributeAt: nil)
]

{ #category : #autogenerated }
CMEnvFileReaderTest >> testLoadEnvironmentFromFile [
	| matrix |
	
	matrix := self instance loadEnvironmentFromFile: self instance fileReference.
	self assert: matrix isCollection.
	self deny: matrix isEmpty.
]

{ #category : #autogenerated }
CMEnvFileReaderTest >> testParseAttributesFrom [
	self assert: (self instance parseAttributesFrom: nil)
]

{ #category : #autogenerated }
CMEnvFileReaderTest >> testParseSpatialEntitiesAttributeValuesFrom [
	self
		assert: (self instance parseSpatialEntitiesAttributeValuesFrom: nil)
]

{ #category : #autogenerated }
CMEnvFileReaderTest >> testParseSpatialEntitiesDataLinesFromLineLineNumberAttNumber [
	self
		assert:
			(self instance
				parseSpatialEntitiesDataLinesFrom: nil
				line: nil
				lineNumber: nil
				attNumber: nil)
]

{ #category : #autogenerated }
CMEnvFileReaderTest >> testReadAttributes [
	self assert: (self instance readAttributes: nil)
]

{ #category : #autogenerated }
CMEnvFileReaderTest >> testReadCloture [
	self assert: (self instance readCloture: nil)
]

{ #category : #autogenerated }
CMEnvFileReaderTest >> testReadConnexite [
	self assert: (self instance readConnexite: nil)
]

{ #category : #autogenerated }
CMEnvFileReaderTest >> testReadDelimiter [
	self assert: (self instance readDelimiter: nil)
]

{ #category : #autogenerated }
CMEnvFileReaderTest >> testReadDimensions [
	self assert: (self instance readDimensions: nil)
]

{ #category : #autogenerated }
CMEnvFileReaderTest >> testReadEnvFromFile [

	| envStream |
	
	envStream := self instance readEnvFromFile: self instance fileReference.
	self assert: envStream isStream.
	self deny: envStream atEnd.
	self deny: envStream isBinary.
]

{ #category : #autogenerated }
CMEnvFileReaderTest >> testReadEnvironmentError [

	self should: [ self instance readEnvironmentError ] raise: Error
]

{ #category : #autogenerated }
CMEnvFileReaderTest >> testResolveModelName [
	self assert: (self instance resolveModelName: nil)
]

{ #category : #autogenerated }
CMEnvFileReaderTest >> testResourceLocator [

	self assert: (self instance resourceLocator isKindOf: CMResourceLocator)
]

{ #category : #autogenerated }
CMEnvFileReaderTest >> testSetSpatialEntitiesAttributesValueFrom [
	self
		assert: (self instance setSpatialEntitiesAttributesValueFrom: nil)
]
